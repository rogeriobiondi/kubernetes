---
- name: PACKAGE_EVENT_CREATE
  status: PACKAGE_STATUS_INTEGRATED
  attributes:
  - name: company_id
    type: int
    scope: global
    mandatory: true
  moderators:       
    - first       # must be the first event in package tracking
    - only_once   # only one event of this kind is valid

- name: PACKAGE_EVENT_MEASURED
  attributes:
  - name: width
    type: float
    scope: global
    mandatory: true
  - name: height
    type: float
    scope: global
    mandatory: true
  - name: depth
    type: float
    scope: global
    mandatory: true
  - name: weigth
    type: float
    scope: global
    mandatory: true    
  moderators:       
    - only_once   # only one event of this kind is valid

- name: PACKAGE_EVENT_TRANSFER_START
  status: PACKAGE_STATUS_TRANSIT
  attributes:
  - name: app
    type: 
      - set:
        - ARCO
        - XD-APP
        - FLECHA
    scope: local
    mandatory: true
  - name: origin_ul
    type: int
    scope: local
    mandatory: true
  - name: destination_ul
    type: int
    scope: local
    mandatory: true
  - name: lat
    type: float
    scope: local
    mandatory: false
  - name: lon
    type: float
    scope: local
    mandatory: false
  moderators:
    - depends_on:  # depends on previous events...
      - PACKAGE_EVENT_CREATE
